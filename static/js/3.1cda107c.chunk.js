(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{53:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},54:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(53);function c(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},55:function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return f}));var r="5a9486e7363af1432b87b7a7303a7852",c="https://api.themoviedb.org",o=function(t){var e="".concat(c,"/3/trending/movie/day?api_key=").concat(r,"&page=").concat(t);return fetch(e).then((function(t){if(t.ok)return t.json()}))},a=function(){var t="\n".concat(c,"/3/genre/movie/list?api_key=").concat(r,"&language=en-US");return fetch(t).then((function(t){if(t.ok)return t.json()})).then((function(t){return t.genres}))},i=function(t,e){var n="\n\n".concat(c,"/3/search/movie?api_key=").concat(r,"&language=en-US&query=").concat(t,"&page=").concat(e,"&include_adult=false");return fetch(n).then((function(t){if(t.ok)return t.json()}))},u=function(t){var e="\n".concat(c,"/3/movie/").concat(t,"?api_key=").concat(r,"&language=en-US");return fetch(e).then((function(t){if(t.ok)return t.json()}))},s=function(t){var e="\n".concat(c,"/3/movie/").concat(t,"/credits?api_key=").concat(r,"&language=en-US");return fetch(e).then((function(t){if(t.ok)return t.json()})).then((function(t){return t.cast}))},f=function(t){var e="\n".concat(c,"/3/movie/").concat(t,"/reviews?api_key=").concat(r,"&language=en-US&page=1");return fetch(e).then((function(t){if(t.ok)return t.json()})).then((function(t){return t.results}))}},56:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(54);function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,c=!1,o=void 0;try{for(var a,i=t[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){c=!0,o=u}finally{try{r||null==i.return||i.return()}finally{if(c)throw o}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},57:function(t,e,n){t.exports={gallery:"views_gallery__36BlN",galleryItemCard:"views_galleryItemCard__1OWkZ",card:"views_card__6uXtV",posterContainer:"views_posterContainer__26xCT",textTitle:"views_textTitle__13aku",textGenre:"views_textGenre__BInS7"}},58:function(t,e,n){"use strict";e.a=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},59:function(t,e,n){"use strict";n(0);var r=n(60),c=n.n(r),o=n(1);e.a=function(t){var e=t.onClick;return Object(o.jsx)("button",{type:"button",className:c.a.loadMoreBtn,onClick:e,children:"Load more"})}},60:function(t,e,n){t.exports={loadMoreBtn:"LoadMore_loadMoreBtn__2bBhN"}},61:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(53);var c=n(54);function o(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(c.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},62:function(t,e,n){"use strict";n(0);var r=function(t,e){var n=t.genre_ids;return e.length<=0?void 0:n.map((function(t){return"/"+e.find((function(e){return e.id===t})).name}))},c=n(57),o=n.n(c),a=n(9),i=n(1);e.a=function(t){var e=t.movies,n=t.genres,c=t.location;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("ul",{className:o.a.gallery,children:e&&e.map((function(t){return Object(i.jsx)("li",{className:o.a.galleryItemCard,children:Object(i.jsxs)(a.b,{to:{pathname:"/movies/".concat(t.id),state:{from:c}},children:[Object(i.jsx)("div",{className:o.a.posterContainer,children:Object(i.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w300/").concat(t.poster_path),alt:t.title})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{className:o.a.textTitle,children:t.title}),Object(i.jsxs)("p",{className:o.a.textGenre,children:[r(t,n)," | ",t.release_date]})]})]})},t.id)}))})})}},63:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.d(e,"a",(function(){return o}))},65:function(t,e,n){t.exports={form:"MoviesPage_form__2Xlvr",input:"MoviesPage_input__1vEoG"}},71:function(t,e,n){"use strict";n.r(e);var r=n(63),c=n(61),o=n(56),a=n(0),i=n(3),u=n(65),s=n.n(u),f=n(55),l=n(62),b=n(59),j=n(58),d=n(1);e.default=function(){var t,e=Object(a.useState)(1),n=Object(o.a)(e,2),u=n[0],h=n[1],m=Object(a.useState)(""),p=Object(o.a)(m,2),v=p[0],O=p[1],g=Object(a.useState)([]),y=Object(o.a)(g,2),_=y[0],w=y[1],x=Object(a.useState)([]),S=Object(o.a)(x,2),k=S[0],C=S[1],P=Object(i.g)(),N=Object(i.h)(),A=null!==(t=new URLSearchParams(N.search).get("searchQuery"))&&void 0!==t?t:"";Object(a.useEffect)((function(){""!==A&&Object(f.d)(A,u).then((function(t){return t})).then((function(t){return w((function(e){return[].concat(Object(c.a)(e),Object(c.a)(t.results))}))})).then((function(){u>1&&Object(j.a)()})).catch((function(t){return console.log("something went wrong",t)}))}),[u,A]),Object(a.useEffect)((function(){Object(f.b)().then((function(t){C((function(e){return[].concat(Object(c.a)(e),Object(c.a)(t))}))}))}),[]);return Object(d.jsxs)("div",{children:[Object(d.jsx)("form",{className:s.a.form,onSubmit:function(t){t.preventDefault(),""!==v&&(h(1),w([]),P.push(Object(r.a)(Object(r.a)({},N),{},{search:"searchQuery=".concat(v)})),O(""))},children:Object(d.jsx)("input",{className:s.a.input,onChange:function(t){O(t.currentTarget.value)},value:v,name:v})}),Object(d.jsx)(l.a,{movies:_,genres:k,location:N}),_.length>20&&Object(d.jsx)(b.a,{onClick:function(){h((function(t){return t+1}))}})]})}}}]);
//# sourceMappingURL=3.1cda107c.chunk.js.map